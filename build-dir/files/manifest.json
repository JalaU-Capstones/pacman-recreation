{
  "id" : "com.codewithbotina.PacmanRecreation",
  "runtime" : "org.freedesktop.Platform",
  "runtime-version" : "24.08",
  "runtime-commit" : "05aa33f18efa68ba3e24757e8353fedd204e023ec567bbf3b6e29ea6283ee241",
  "sdk" : "org.freedesktop.Sdk",
  "sdk-commit" : "ffd4bb2ee750e633352a4a20e0b00f97004873f085d929f31511aeac89d0e0a7",
  "command" : "pacman-recreation",
  "modules" : [
    {
      "name" : "flac",
      "buildsystem" : "autotools",
      "sources" : [
        {
          "url" : "https://downloads.xiph.org/releases/flac/flac-1.3.4.tar.xz",
          "sha256" : "8ff0607e75a322dd7cd6ec48f4f225471404ae2730d0ea945127b1355155e737",
          "type" : "archive"
        }
      ]
    },
    {
      "name" : "dotnet",
      "buildsystem" : "simple",
      "sources" : [
        {
          "dest" : "dotnet",
          "url" : "https://dotnetcli.azureedge.net/dotnet/Sdk/9.0.200/dotnet-sdk-9.0.200-linux-x64.tar.gz",
          "sha256" : "c07281a0abbd2c3200e70fc94d374baeadfbb43c9c3fe90c6038253555b84335",
          "type" : "archive"
        }
      ],
      "cleanup" : [
        "/lib/dotnet/sdk/*/Sdks/Microsoft.NET.Sdk.WebAssembly.Pack"
      ],
      "build-commands" : [
        "mkdir -p /app/lib/dotnet",
        "mkdir -p /app/bin",
        "cp -r dotnet/sdk dotnet/host dotnet/shared dotnet/dotnet /app/lib/dotnet/",
        "ln -sf /app/lib/dotnet/dotnet /app/bin/dotnet"
      ]
    },
    {
      "name" : "pacman-recreation",
      "buildsystem" : "simple",
      "sources" : [
        {
          "url" : "https://github.com/JalaU-Capstones/pacman-recreation.git",
          "commit" : "e59775b5eeeece1d7b8c453842917d6cfbff6be5",
          "type" : "git"
        }
      ],
      "build-options" : {
        "build-args" : [
          "--share=network"
        ]
      },
      "build-commands" : [
        "dotnet publish src/PacmanGame/PacmanGame.csproj -c Release -r linux-x64 --self-contained -o /app/bin",
        "install -Dm644 flatpak/com.codewithbotina.PacmanRecreation.desktop /app/share/applications/com.codewithbotina.PacmanRecreation.desktop",
        "install -Dm644 flatpak/com.codewithbotina.PacmanRecreation.metainfo.xml /app/share/metainfo/com.codewithbotina.PacmanRecreation.metainfo.xml",
        "install -Dm644 flatpak/icons/64x64/com.codewithbotina.PacmanRecreation.png /app/share/icons/hicolor/64x64/apps/com.codewithbotina.PacmanRecreation.png",
        "install -Dm644 flatpak/icons/128x128/com.codewithbotina.PacmanRecreation.png /app/share/icons/hicolor/128x128/apps/com.codewithbotina.PacmanRecreation.png",
        "install -Dm644 flatpak/icons/256x256/com.codewithbotina.PacmanRecreation.png /app/share/icons/hicolor/256x256/apps/com.codewithbotina.PacmanRecreation.png",
        "install -Dm644 flatpak/icons/512x512/com.codewithbotina.PacmanRecreation.png /app/share/icons/hicolor/512x512/apps/com.codewithbotina.PacmanRecreation.png",
        "mkdir -p /app/share/pacman-recreation",
        "cp -r src/PacmanGame/Assets /app/share/pacman-recreation/",
        "echo '#!/bin/sh' > /app/bin/pacman-recreation",
        "echo 'export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/app/bin:/app/lib' >> /app/bin/pacman-recreation",
        "echo 'exec /app/bin/PacmanGame \"$@\"' >> /app/bin/pacman-recreation",
        "chmod +x /app/bin/pacman-recreation",
        "echo '#!/bin/sh' > /app/bin/appstream-compose",
        "echo 'exit 0' >> /app/bin/appstream-compose",
        "chmod +x /app/bin/appstream-compose"
      ]
    }
  ],
  "sdk-extensions" : [
    "org.freedesktop.Sdk.Extension.dotnet9"
  ],
  "finish-args" : [
    "--share=ipc",
    "--share=network",
    "--socket=wayland",
    "--socket=x11",
    "--device=dri",
    "--socket=pulseaudio",
    "--filesystem=xdg-data/pacman-recreation:create",
    "--device=all"
  ]
}